(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.blocksVueComponent = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var blocksToVue=require("./blocksToVue"),component={functional:!0,props:{blocks:{type:[Array,Object],required:!0},serializers:{type:Object,default:function(){return{}}},projectId:{type:String,default:void 0},dataset:{type:String,default:void 0},imageOptions:{type:Object,default:function(){return{}}},className:{type:String,default:void 0},renderContainerOnSingleChild:{type:Boolean,default:!1}},render:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.props;t.data;return blocksToVue(e,r)}};module.exports=component;

},{"./blocksToVue":2}],2:[function(require,module,exports){
"use strict";var objectAssign=require("object-assign"),_require=require("@sanity/block-content-to-hyperscript/internals"),blocksToNodes=_require.blocksToNodes,getSerializers=require("./serializers"),isVueComponent=function(e){return Object.hasOwnProperty.call(e,"template")||Object.hasOwnProperty.call(e,"render")&&"function"==typeof e.render};function blocksToVue(e,r){var o=function(r,o,n){var i=o||{};if("function"==typeof r)return r(objectAssign({},i,{children:n}));var s=r,t=i.children||n;if(t=Array.isArray(t)?t:[t],isVueComponent(r)){var a={},c={};i.mark?a=i.mark:(a=i.node,c._sanityProps={node:i.node,options:i.options}),i={props:objectAssign({},a,c)}}return e(s,i,t)},n=getSerializers(o),i=n.defaultSerializers,s=n.serializeSpan;return blocksToNodes(o,r,i,s)}module.exports=blocksToVue;

},{"./serializers":3,"@sanity/block-content-to-hyperscript/internals":4,"object-assign":19}],3:[function(require,module,exports){
"use strict";var _require=require("@sanity/block-content-to-hyperscript/internals"),getImageUrl=_require.getImageUrl,objectAssign=require("object-assign");module.exports=function(e){function r(r,n){return e(r,null,n.children)}return{defaultSerializers:{types:{block:function(r){var n=r.node.style||"normal";return/^h\d/.test(n)?e(n,null,r.children):e("blockquote"===n?"blockquote":"p",null,r.children)},image:function(r){var n=e("img",{attrs:{src:getImageUrl(r)}});return r.isInline?n:e("figure",null,n)}},marks:{strong:r.bind(null,"strong"),em:r.bind(null,"em"),code:r.bind(null,"code"),underline:function(r){return e("span",{style:{textDecoration:"underline"}},r.children)},"strike-through":function(r){return e("del",null,r.children)},link:function(r){return e("a",{attrs:{href:r.mark.href}},r.children)}},list:function(r){var n="bullet"===r.type?"ul":"ol";return e(n,null,r.children)},listItem:function(r){var n=r.node.style&&"normal"!==r.node.style?e(r.serializers.types.block,r,r.children):r.children;return e("li",null,n)},block:function(r){var n=r.node,i=r.serializers,t=r.options,l=r.isInline,s=r.children,a=n._type,o=i.types[a];if(!o)throw new Error('Unknown block type "'+a+'", please specify a serializer for it in the `serializers.types` prop');return e(o,{node:n,options:t,isInline:l},s)},span:function(r){var n=r.node,i=n.mark,t=n.children,l="string"==typeof i?i:i._type,s=r.serializers.marks[l];return s?e(s,r.node,t):(console.warn('Unknown mark type "'+l+'", please specify a serializer for it in the `serializers.marks` prop'),e(r.serializers.markFallback,null,t))},hardBreak:function(){return e("br")},container:function(r){var n=null,i=r.className;return i&&(n={class:i}),e("div",n,r.children)},markFallback:"span",text:void 0,empty:null},serializeSpan:function(r,n,i,t){if("\n"===r&&n.hardBreak)return e(n.hardBreak,{key:"hb-"+i});if("string"==typeof r)return n.text?e(n.text,{key:"text-"+i},r):r;var l=void 0;r.children&&(l={children:r.children.map(function(e,n){return t.serializeNode(e,n,r.children,!0)})});var s=objectAssign({},r,l);return e(n.span,{key:r._key||"span-"+i,node:s,serializers:n})}}};

},{"@sanity/block-content-to-hyperscript/internals":4,"object-assign":19}],4:[function(require,module,exports){
module.exports=require("./lib/internals");

},{"./lib/internals":9}],5:[function(require,module,exports){
"use strict";var objectAssign=require("object-assign"),buildMarksTree=require("./buildMarksTree"),nestLists=require("./nestLists"),generateKeys=require("./generateKeys"),mergeSerializers=require("./mergeSerializers"),optionProps=["projectId","dataset","imageOptions"],isDefined=function(e){return void 0!==e},defaults={imageOptions:{}};function blocksToNodes(e,r,i,t){var s=objectAssign({},defaults,r),n=Array.isArray(s.blocks)?s.blocks:[s.blocks],o=generateKeys(n),a=nestLists(o,s.listNestMode),l=mergeSerializers(i,s.serializers||{}),u=optionProps.reduce(function(e,r){var i=s[r];return isDefined(i)&&(e[r]=i),e},{});function c(r,i,s,n){return isList(r)?(a=(o=r).listItem,p=o.level,m=o._key,d=o.children.map(c),e(l.list,{key:m,level:p,type:a,options:u},d)):isListItem(r)?function(r,i){var t=r._key,s=buildMarksTree(r).map(c);return e(l.listItem,{node:r,serializers:l,index:i,key:t,options:u},s)}(r,function(e,r){for(var i=0,t=0;t<r.length;t++){if(r[t]===e)return i;isListItem(r[t])&&i++}return i}(r,s)):isSpan(r)?t(r,l,i,{serializeNode:c}):function(r,i,t){var s=buildMarksTree(r).map(function(e,r,i){return c(e,r,i,!0)}),n={key:r._key||"block-"+i,node:r,isInline:t,serializers:l,options:u};return e(l.block,n,s)}(r,i,n);var o,a,p,m,d}var p=Boolean(s.renderContainerOnSingleChild),m=a.map(c);if(p||m.length>1){var d=s.className?{className:s.className}:{};return e(l.container,d,m)}return m[0]?m[0]:"function"==typeof l.empty?e(l.empty):l.empty}function isList(e){return"list"===e._type&&e.listItem}function isListItem(e){return"block"===e._type&&e.listItem}function isSpan(e){return"string"==typeof e||e.marks||"span"===e._type}module.exports=blocksToNodes;

},{"./buildMarksTree":6,"./generateKeys":7,"./mergeSerializers":10,"./nestLists":11,"object-assign":19}],6:[function(require,module,exports){
"use strict";var defaultMarks=["strong","em","code","underline","strike-through"],buildMarksTree=function(r){var e=r.children,n=r.markDefs;if(!e||!e.length)return[];var a=e.map(sortMarksByOccurences),t={_type:"span",children:[]},i=[t];return e.forEach(function(r,e){var t=a[e];if(t){var s=1;if(i.length>1)for(;s<i.length;s++){var c=i[s].markKey,f=t.indexOf(c);if(-1===f)break;t.splice(f,1)}var l=findLastParentNode(i=i.slice(0,s));if(t.forEach(function(e){var a={_type:"span",_key:r._key,children:[],mark:n.find(function(r){return r._key===e})||e,markKey:e};l.children.push(a),i.push(a),l=a}),isTextSpan(r)){for(var u=r.text.split("\n"),d=u.length;d-- >1;)u.splice(d,0,"\n");l.children=l.children.concat(u)}else l.children=l.children.concat(r)}else{i[i.length-1].children.push(r)}}),t.children};function sortMarksByOccurences(r,e,n){if(!r.marks||0===r.marks.length)return r.marks||[];var a=r.marks.reduce(function(r,a){r[a]=r[a]?r[a]+1:1;for(var t=e+1;t<n.length;t++){var i=n[t];if(!i.marks||!Array.isArray(i.marks)||-1===i.marks.indexOf(a))break;r[a]++}return r},{}),t=sortMarks.bind(null,a);return r.marks.slice().sort(t)}function sortMarks(r,e,n){var a=r[e]||0,t=r[n]||0;if(a!==t)return t-a;var i=defaultMarks.indexOf(e),s=defaultMarks.indexOf(n);return i!==s?i-s:e<n?-1:e>n?1:0}function isTextSpan(r){return"string"==typeof r.text&&(Array.isArray(r.marks)||void 0===r.marks)}function findLastParentNode(r){for(var e=r.length-1;e>=0;e--){var n=r[e];if("span"===n._type&&n.children)return n}}module.exports=buildMarksTree;

},{}],7:[function(require,module,exports){
"use strict";var objectAssign=require("object-assign");function getStaticKey(t){return checksum(JSON.stringify(t)).toString(36).replace(/[^A-Za-z0-9]/g,"")}function checksum(t){var e=0,r=t.length;if(0===r)return e;for(var n=0;n<r;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}module.exports=function(t){return t.map(function(t){return t._key?t:objectAssign({_key:getStaticKey(t)},t)})};

},{"object-assign":19}],8:[function(require,module,exports){
"use strict";var generateHelpUrl=require("@sanity/generate-help-url"),urlBuilder=require("@sanity/image-url"),objectAssign=require("object-assign"),enc=encodeURIComponent,materializeError="You must either:\n  - Pass `projectId` and `dataset` to the block renderer\n  - Materialize images to include the `url` field.\n\nFor more information, see "+generateHelpUrl("block-content-image-materializing"),getQueryString=function(e){var r=e.imageOptions,t=Object.keys(r);return t.length?"?"+t.map(function(e){return enc(e)+"="+enc(r[e])}).join("&"):""},buildUrl=function(e){var r=e.node,t=e.options,n=t.projectId,i=t.dataset,o=r.asset;if(!o)throw new Error("Image does not have required `asset` property");if(o.url)return o.url+getQueryString(t);if(!n||!i)throw new Error(materializeError);if(!o._ref)throw new Error("Invalid image reference in block, no `_ref` found on `asset`");return urlBuilder(objectAssign({projectId:n,dataset:i},t.imageOptions||{})).image(r).toString()};module.exports=buildUrl;

},{"@sanity/generate-help-url":13,"@sanity/image-url":14,"object-assign":19}],9:[function(require,module,exports){
"use strict";var getSerializers=require("./serializers"),_blocksToNodes=require("./blocksToNodes"),getImageUrl=require("./getImageUrl"),mergeSerializers=require("./mergeSerializers");module.exports={blocksToNodes:function(e,r,i,s){if(i)return _blocksToNodes(e,r,i,s);var l=getSerializers(e);return _blocksToNodes(e,r,l.defaultSerializers,l.serializeSpan)},getSerializers:getSerializers,getImageUrl:getImageUrl,mergeSerializers:mergeSerializers};

},{"./blocksToNodes":5,"./getImageUrl":8,"./mergeSerializers":10,"./serializers":12}],10:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},objectAssign=require("object-assign"),isDefined=function(o){return void 0!==o};module.exports=function(o,t){return Object.keys(o).reduce(function(e,n){var r=_typeof(o[n]);return e[n]="function"===r?isDefined(t[n])?t[n]:o[n]:"object"===r?objectAssign({},o[n],t[n]):void 0===t[n]?o[n]:t[n],e},{})};

},{"object-assign":19}],11:[function(require,module,exports){
"use strict";var objectAssign=require("object-assign");function nestLists(e){for(var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html",t=[],i=void 0,s=0;s<e.length;s++){var n=e[s];if(isListBlock(n))if(i)if(blockMatchesList(n,i))i.children.push(n);else if(n.level>i.level){var r=listFromBlock(n);if("html"===l){var c=lastChild(i),o=objectAssign({},c,{children:c.children.concat(r)});i.children[i.children.length-1]=o}else i.children.push(r);i=r}else if(n.level<i.level){var h=findListMatching(t[t.length-1],n);if(h){(i=h).children.push(n);continue}i=listFromBlock(n),t.push(i)}else if(n.listItem===i.listItem)console.warn("Unknown state encountered for block",n),t.push(n);else{var u=findListMatching(t[t.length-1],{level:n.level});if(u&&u.listItem===n.listItem){(i=u).children.push(n);continue}i=listFromBlock(n),t.push(i)}else i=listFromBlock(n),t.push(i);else t.push(n),i=null}return t}function isListBlock(e){return Boolean(e.listItem)}function blockMatchesList(e,l){return e.level===l.level&&e.listItem===l.listItem}function listFromBlock(e){return{_type:"list",_key:e._key+"-parent",level:e.level,listItem:e.listItem,children:[e]}}function lastChild(e){return e.children&&e.children[e.children.length-1]}function findListMatching(e,l){var t="string"==typeof l.listItem;if("list"===e._type&&e.level===l.level&&t&&e.listItem===l.listItem)return e;var i=lastChild(e);return!!i&&findListMatching(i,l)}module.exports=nestLists;

},{"object-assign":19}],12:[function(require,module,exports){
"use strict";var objectAssign=require("object-assign"),getImageUrl=require("./getImageUrl");module.exports=function(e,r){var n=r||{useDashedStyles:!1};function i(r,n){return e(r,null,n.children)}return{defaultSerializers:{types:{block:function(r){var n=r.node.style||"normal";return/^h\d/.test(n)?e(n,null,r.children):e("blockquote"===n?"blockquote":"p",null,r.children)},image:function(r){var n=e("img",{src:getImageUrl(r)});return r.isInline?n:e("figure",null,n)}},marks:{strong:i.bind(null,"strong"),em:i.bind(null,"em"),code:i.bind(null,"code"),underline:function(r){var i=n.useDashedStyles?{"text-decoration":"underline"}:{textDecoration:"underline"};return e("span",{style:i},r.children)},"strike-through":function(r){return e("del",null,r.children)},link:function(r){return e("a",{href:r.mark.href},r.children)}},list:function(r){var n="bullet"===r.type?"ul":"ol";return e(n,null,r.children)},listItem:function(r){var n=r.node.style&&"normal"!==r.node.style?e(r.serializers.types.block,r,r.children):r.children;return e("li",null,n)},block:function(r){var n=r.node,i=r.serializers,t=r.options,l=r.isInline,s=r.children,a=n._type,o=i.types[a];if(!o)throw new Error('Unknown block type "'+a+'", please specify a serializer for it in the `serializers.types` prop');return e(o,{node:n,options:t,isInline:l},s)},span:function(r){var n=r.node,i=n.mark,t=n.children,l="string"==typeof i?i:i._type,s=r.serializers.marks[l];return s?e(s,r.node,t):(console.warn('Unknown mark type "'+l+'", please specify a serializer for it in the `serializers.marks` prop'),e(r.serializers.markFallback,null,t))},hardBreak:function(){return e("br")},container:"div",markFallback:"span",text:void 0,empty:""},serializeSpan:function(r,n,i,t){if("\n"===r&&n.hardBreak)return e(n.hardBreak,{key:"hb-"+i});if("string"==typeof r)return n.text?e(n.text,{key:"text-"+i},r):r;var l=void 0;r.children&&(l={children:r.children.map(function(e,n){return t.serializeNode(e,n,r.children,!0)})});var s=objectAssign({},r,l);return e(n.span,{key:r._key||"span-"+i,node:s,serializers:n})}}};

},{"./getImageUrl":8,"object-assign":19}],13:[function(require,module,exports){
var baseUrl="https://docs.sanity.io/help/";module.exports=function(e){return baseUrl+e};

},{}],14:[function(require,module,exports){
module.exports=require("./lib/builder").default;

},{"./lib/builder":15}],15:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();exports.default=urlBuilder;var _urlForImage=require("./urlForImage"),_urlForImage2=_interopRequireDefault(_urlForImage);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var validFits=["clip","crop","fill","fillmax","max","scale","min"],validCrops=["top","bottom","left","right","center","focalpoint","entropy"],ImageUrlBuilder=function(){function t(e,i){_classCallCheck(this,t),this.options=e?Object.assign({},e.options,i||{}):i||{}}return _createClass(t,[{key:"withOptions",value:function(e){return new t(this,e)}},{key:"image",value:function(t){return this.withOptions({source:t})}},{key:"dataset",value:function(t){return this.withOptions({dataset:t})}},{key:"projectId",value:function(t){return this.withOptions({projectId:t})}},{key:"width",value:function(t){return this.withOptions({width:t})}},{key:"height",value:function(t){return this.withOptions({height:t})}},{key:"focalPoint",value:function(t,e){return this.withOptions({focalPoint:{x:t,y:e}})}},{key:"maxWidth",value:function(t){return this.withOptions({maxWidth:t})}},{key:"minWidth",value:function(t){return this.withOptions({minWidth:t})}},{key:"maxHeight",value:function(t){return this.withOptions({maxHeight:t})}},{key:"minHeight",value:function(t){return this.withOptions({minHeight:t})}},{key:"size",value:function(t,e){return this.withOptions({width:t,height:e})}},{key:"blur",value:function(t){return this.withOptions({blur:t})}},{key:"sharpen",value:function(t){return this.withOptions({sharpen:t})}},{key:"rect",value:function(t,e,i,n){return this.withOptions({rect:{left:t,top:e,width:i,height:n}})}},{key:"format",value:function(t){return this.withOptions({format:t})}},{key:"invert",value:function(t){return this.withOptions({invert:t})}},{key:"orientation",value:function(t){return this.withOptions({orientation:t})}},{key:"quality",value:function(t){return this.withOptions({quality:t})}},{key:"forceDownload",value:function(t){return this.withOptions({download:t})}},{key:"flipHorizontal",value:function(){return this.withOptions({flipHorizontal:!0})}},{key:"flipVertical",value:function(){return this.withOptions({flipVertical:!0})}},{key:"ignoreImageParams",value:function(){return this.withOptions({ignoreImageParams:!0})}},{key:"fit",value:function(t){if(-1===validFits.indexOf(t))throw new Error('Invalid fit mode "'+t+'"');return this.withOptions({fit:t})}},{key:"crop",value:function(t){if(-1===validCrops.indexOf(t))throw new Error('Invalid crop mode "'+t+'"');return this.withOptions({crop:t})}},{key:"url",value:function(){return(0,_urlForImage2.default)(this.options)}},{key:"toString",value:function(){return this.url()}}]),t}();function urlBuilder(t){return t&&"object"===_typeof(t.clientConfig)?new ImageUrlBuilder(null,{baseUrl:t.clientConfig.apiHost.replace(/^https:\/\/api\./,"https://cdn."),projectId:t.clientConfig.projectId,dataset:t.clientConfig.dataset}):new ImageUrlBuilder(null,t)}

},{"./urlForImage":18}],16:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,e){var t=[],i=!0,a=!1,n=void 0;try{for(var o,s=r[Symbol.iterator]();!(i=(o=s.next()).done)&&(t.push(o.value),!e||t.length!==e);i=!0);}catch(r){a=!0,n=r}finally{try{!i&&s.return&&s.return()}finally{if(a)throw n}}return t}(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.default=parseAssetId;var example="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function parseAssetId(r){var e=r.split("-"),t=_slicedToArray(e,4),i=t[1],a=t[2],n=t[3];if(!i||!a||!n)throw new Error("Malformed asset _ref '"+r+"'. Expected an id like \""+example+'".');var o=a.split("x"),s=_slicedToArray(o,2),l=+s[0],u=+s[1];if(!(Number.isFinite(l)&&Number.isFinite(u)))throw new Error("Malformed asset _ref '"+r+"'. Expected an id like \""+example+'".');return{id:i,width:l,height:u,format:n}}

},{}],17:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function parseSource(t){if(!t)return null;var e=void 0;if("string"==typeof t&&isUrl(t))e={asset:{_ref:urlToId(t)}};else if("string"==typeof t)e={asset:{_ref:t}};else if("string"==typeof t._ref)e={asset:t};else if(t._id)e={asset:{_ref:t._id}};else if(t.asset&&t.asset.url&&!t.asset._ref)e={asset:{_ref:urlToId(t.asset.url)}};else{if("object"!==_typeof(t.asset))return null;e=t}return t.crop&&(e.crop=t.crop),t.hotspot&&(e.hotspot=t.hotspot),applyDefaults(e)}function isUrl(t){return/^https?:\/\//.test(""+t)}function urlToId(t){return("image-"+t.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}function applyDefaults(t){return t.crop&&t.hotspot?t:Object.assign({crop:{left:0,top:0,bottom:0,right:0},hotspot:{x:.5,y:.5,height:1,width:1}},t)}exports.default=parseSource;

},{}],18:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseSource=void 0;var _slicedToArray=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],o=!0,i=!1,h=void 0;try{for(var a,n=t[Symbol.iterator]();!(o=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);o=!0);}catch(t){i=!0,h=t}finally{try{!o&&n.return&&n.return()}finally{if(i)throw h}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.default=urlForImage;var _parseSource=require("./parseSource"),_parseSource2=_interopRequireDefault(_parseSource),_parseAssetId=require("./parseAssetId"),_parseAssetId2=_interopRequireDefault(_parseAssetId);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var SPEC_NAME_TO_URL_NAME_MAPPINGS=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"]];function urlForImage(t){var e=Object.assign({},t||{}),r=e.source;delete e.source;var o=(0,_parseSource2.default)(r);if(!o)return null;var i=(0,_parseAssetId2.default)(o.asset._ref),h={left:Math.round(o.crop.left*i.width),top:Math.round(o.crop.top*i.height)};h.width=Math.round(i.width-o.crop.right*i.width-h.left),h.height=Math.round(i.height-o.crop.bottom*i.height-h.top);var a=o.hotspot.height*i.height/2,n=o.hotspot.width*i.width/2,s=o.hotspot.x*i.width,p=o.hotspot.y*i.height,u={left:s-n,top:p-a,right:s+n,bottom:p+n};return e.asset=i,e.rect||e.focalPoint||e.ignoreImageParams||e.crop||(e=Object.assign(e,fit({crop:h,hotspot:u},e))),specToImageUrl(e)}function specToImageUrl(t){var e=t.baseUrl||"https://cdn.sanity.io",r=t.asset.id+"-"+t.asset.width+"x"+t.asset.height+"."+t.asset.format,o=e+"/images/"+t.projectId+"/"+t.dataset+"/"+r,i=[];t.rect&&((0!=t.rect.left||0!=t.rect.top||t.rect.height!=t.asset.height||t.rect.width!=t.asset.width)&&i.push("rect="+t.rect.left+","+t.rect.top+","+t.rect.width+","+t.rect.height));return t.focalPoint&&(i.push("fp-x="+t.focalPoint.x),i.push("fp-x="+t.focalPoint.y)),(t.flipHorizontal||t.flipVertical)&&i.push("flip="+(t.flipHorizontal?"h":"")+(t.flipVertical?"v":"")),SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function(e){var r=_slicedToArray(e,2),o=r[0],h=r[1];void 0!==t[o]?i.push(h+"="+encodeURIComponent(t[o])):void 0!==t[h]&&i.push(h+"="+encodeURIComponent(t[h]))}),0===i.length?o:o+"?"+i.join("&")}function fit(t,e){var r={width:e.width,height:e.height};if(!e.width||!e.height)return r.rect=t.crop,r;var o=t.crop,i=t.hotspot,h=e.width/e.height;if(o.width/o.height>h){var a=o.height,n=a*h,s=o.top,p=(i.right-i.left)/2+i.left-n/2;return p<o.left?p=o.left:p+n>o.left+o.width&&(p=o.left+o.width-n),r.rect={left:Math.round(p),top:Math.round(s),width:Math.round(n),height:Math.round(a)},r}var u=o.width,l=u/h,c=o.left,d=(i.bottom-i.top)/2+i.top-l/2;return d<o.top?d=o.top:d+l>o.top+o.height&&(d=o.top+o.height-l),r.rect={left:Math.floor(c),top:Math.floor(d),width:Math.round(u),height:Math.round(l)},r}exports.parseSource=_parseSource2.default;

},{"./parseAssetId":16,"./parseSource":17}],19:[function(require,module,exports){
"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(r).map(function(e){return r[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}module.exports=shouldUseNative()?Object.assign:function(e,r){for(var t,n,o=toObject(e),a=1;a<arguments.length;a++){for(var s in t=Object(arguments[a]))hasOwnProperty.call(t,s)&&(o[s]=t[s]);if(getOwnPropertySymbols){n=getOwnPropertySymbols(t);for(var c=0;c<n.length;c++)propIsEnumerable.call(t,n[c])&&(o[n[c]]=t[n[c]])}}return o};

},{}]},{},[1])(1)
});
